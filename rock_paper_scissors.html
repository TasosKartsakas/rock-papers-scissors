<!DOCTYPE html>
<html>
<head>
  <title>Rock,Paper,Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>

    let result;
    let computerScore = 0;
    let playerScore = 0; 
    let playerSelection;

    function computerPlay(){
      result = Math.floor(Math.random() * 3)
      if (result === 1)
      return result = "paper"
      else if (result === 2)
      return result = "scissors"
      else
      return result = "rock"
    }


    function playRound(playerSelection, computerSelection) {
      if (playerScore === 5) {
      score.textContent = 'You won the game!';
      bestOfFive.textContent = `Your score : 0 | CPU score: 0`;
      playerScore = 0;
      computerScore = 0;
      return
     }
      if (computerScore === 5) {
      score.textContent = 'Sorry. CPU won the game. Try again.'
      bestOfFive.textContent = `Your score : 0 | CPU score: 0`;
      playerScore = 0;
      computerScore = 0;
      return
     }


      if (playerSelection == 'rock' && computerSelection == 'rock') {
      return score.textContent = 'Draw! Try again.'
      }
      else if (playerSelection == 'rock' && computerSelection == 'scissors') {
      score.textContent = 'You win! Rock always wins scissor'
      playerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'rock' && computerSelection == 'paper') {
      score.textContent ='Computer wins this time. Sorry but paper covers rock.'
      computerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'scissors' && computerSelection == 'rock') {
      score.textContent = 'Computer wins this time. Sorry but rock breaks scissor!'  
      computerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'scissors' && computerSelection == 'paper') {
      score.textContent = 'You win! Scissors cuts paper!'
      playerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'scissors' && computerSelection == 'scissors') {
      score.textContent = 'Draw! Try again.'
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'paper' && computerSelection == 'rock') {
      score.textContent = 'You win! Paper covers rock.'
      playerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`; 
      }
      else if (playerSelection == 'paper' && computerSelection == 'scissors') {
      score.textContent = 'Computer wins this time.Sorry but scissors cuts paper.'  
      computerScore += 1
      return bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
      }
      else if (playerSelection == 'paper' && computerSelection == 'paper') {
      return score.textContent = 'Draw! Try again.'
      }
      else 
      return

      
    }



    const container = document.createElement('div');
    container.setAttribute('id', 'container');
    document.body.appendChild(container);
    
    const score = document.createElement('div');
    score.classList.add('score');
    score.textContent = 'Hello there! Choose to start playing!'
    container.appendChild(score);

    const bestOfFive = document.createElement('div');
    bestOfFive.classList.add = ('bestOfFive');
    bestOfFive.textContent = `Your score : ${playerScore} | CPU score: ${computerScore}`;
    container.appendChild(bestOfFive);

    const text = ['Rock', 'Paper', 'Scissors']

    text.forEach((element) => {
      let button = document.createElement('BUTTON');
      button.classList.add('button')
      button.textContent = element;
      container.appendChild(button);
    })


    const rock = document.querySelector('.button')
    rock.addEventListener('click', () => {
      playRound('rock', computerPlay())
    })

    const paper = document.querySelector('.button:nth-child(4)')
    paper.addEventListener('click', () => {
      playRound('paper', computerPlay())
    })

    const scissors = document.querySelector('.button:last-child')
    scissors.addEventListener('click', () => {
      playRound('scissors', computerPlay())
    })
    
  </script>
</body>
</html>